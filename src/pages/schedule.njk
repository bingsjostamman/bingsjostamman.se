---
layout: layouts/base
title: Festival Schedule
templateEngineOverride: njk
permalink: /schedule/
---


<pre>{{ lineup2025 | dump }}</pre>


<h1>{{ title }}</h1>

{% set actsByDay = lineup2025 | groupBy('day') %}

{% for dayGroup in actsByDay %}
{% set dayMins = dayGroup.items | map('startMinutes') %}
{% set dayMaxs = dayGroup.items | map('endMinutes') %}
{% set dayMin = dayMins | min %}
{% set dayMax = dayMaxs | max %}
{% set totalRange = dayMax | math("-", dayMin) %}

  <section class="day-schedule">
    <h2>{{ dayGroup.grouper | capitalize }}</h2>

    {% set actsByStage = dayGroup.items | groupBy('stage') %}

    <div class="timeline-wrapper">
      {# Timeline ticks: every 15 minutes, hour labels at full hours #}
      <div class="timeline-grid">
        {% for tick in range(dayMin, dayMax + 1, 15) %}
          <span class="timeline-tick" style="left: {{ ((tick - dayMin) / totalRange) * 100 }}%">
            {% if tick % 60 == 0 %}
              <span class="timeline-hour-label">
                {{ (tick / 60) | round | padStart(2) }}:00
              </span>
            {% endif %}
          </span>
        {% endfor %}
      </div>

      <div class="timeline">
        {% for stageGroup in actsByStage %}
          <div class="stage-row">
            <h3>{{ stageGroup.grouper | capitalize }}</h3>

            {% for act in stageGroup.items %}
              {% set left = ((act.startMinutes | math("-", dayMin)) | math("/", totalRange)) | math("*", 100) %}
              {% set width = ((act.endMinutes | math("-", act.startMinutes)) | math("/", totalRange)) | math("*", 100) %}

              <div class="act-block" style="--left: {{ left }}%; --width: {{ width }}%;">
                <strong>{{ act.name }}</strong><br>
                <small>{{ act.starttime }}–{{ act.endtime }}</small>
              </div>
            {% endfor %}
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="time-labels">
      {{ dayMin | math("/", 60) | round | padStart(2) }}:00 → {{ dayMax | math("/", 60) | round | padStart(2) }}:00
    </div>

  </section>
{% endfor %}
